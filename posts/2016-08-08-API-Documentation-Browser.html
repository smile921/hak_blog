<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>API Documentation Browser</title>
        <script type="text/javascript" src="../js/favico-0.3.9.min.js"></script>
        <link rel="stylesheet" href="../css/default-highlight.css">
		<link rel="stylesheet" type="text/css" href="../css/default.css" />
        <link rel="shortcut icon" type="image/x-icon" href="../images/favicon.ico"> 
       <!-- <link rel="stylesheet" href="/css/school-book.css"> -->
        
        <script type="text/javascript" src="../js/highlight-pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </head>
    <body>
     <header id="hd-block">
    <h1 id="adage">不为有趣之事，何以遣无涯之生</h1>
     </header>
    <div class="container-1">
        <div id="header">
            <div id="logo">
                <a href="../">曾经的脚印</a>
            </div>
            <div id="navigation">
                <a href="../">Home</a>
                <a href="../about.html">About</a>
                <a href="../contact.html">Contact</a>
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>API Documentation Browser</h1>

            <div class="info">
    Posted on August  8, 2016
    
</div>

<p><a href="http://devdocs.io">DevDocs</a> <a href="https://github.com/Thibaut/devdocs">DevDocs github</a> ## run devdocs in docker ### First, build the image</p>
<pre><code>git clone https://github.com/Thibaut/devdocs.git &amp;&amp; cd devdocs 
docker build -t thibaut/devdocs . </code></pre>
<h3 id="finally-start-a-devdocs-container-access-httplocalhost9292">Finally, start a DevDocs container (access http://localhost:9292)</h3>
<pre><code>docker run --name devdocs -d -p 9292:9292 thibaut/devdocs </code></pre>
<table>
<colgroup>
<col width="100%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left">## Sinatra：一个优雅地包装了Web开发的DSL</td>
</tr>
<tr class="even">
<td align="left">你相信用100行代码可以实现一个博客吗？用Sinatra框架就可以做到。下面就是这样子的一个Web应用：</td>
</tr>
<tr class="odd">
<td align="left">Reprise - A Minimalistic Blog</td>
</tr>
<tr class="even">
<td align="left">这个应用的代码：点这里查看</td>
</tr>
<tr class="odd">
<td align="left">一个简单的hello world的web应用要写多少代码？用Sinatra只需5行代码：</td>
</tr>
<tr class="even">
<td align="left">require ‘rubygems’ require ‘sinatra’</td>
</tr>
<tr class="odd">
<td align="left">get ‘/’ do ‘Hello World’ end</td>
</tr>
<tr class="even">
<td align="left">安装方法：</td>
</tr>
<tr class="odd">
<td align="left">$ gem install sinatra $ ruby -rubygems hi.rb</td>
</tr>
</tbody>
</table>
<p>Aaron Patterson和Mike Dalessio开发了一个新的Ruby解析HTML/XML的ruby库 － Nokogiri。他的速度比目前应用的最广泛的Hpricot还要快许多。经过Benchmark测试表明，Nokogiri在加载XML文档的速度是Hpricot的7倍，在XPATH搜索的速度是Hpricot的5倍，而在CSS选择器的搜索上面是Hpricot的1.62倍。</p>
<h2 id="因此nokogiri被认为有可能取代hpricot的新一代ruby的解析库他能够解析htmlxml文件能够提供xpath支持css选择器支持安装nokogiri的办法很简单-gem-install-nokogiri">因此Nokogiri被认为有可能取代Hpricot的新一代Ruby的解析库，他能够解析HTML/XML文件，能够提供XPATH支持，CSS选择器支持。安装Nokogiri的办法很简单： gem install nokogiri</h2>
<h2 id="dash">dash</h2>
<p>作为一名死coder，每天最常见的动作就是查看各种API文档，你一定也有过同时打开N个窗口（HTML、PDF、CHM），不停的在编辑器与文档之间切换的感受吧？怎么说呢，其实我很讨厌这种枯燥无味的动作，那么如何才能提高效率，减少无用功呢？下面就给大家介绍一款非常好用的Mac小工具：Dash，相比这个英文名，我跟喜欢叫它“叮当猫”，嘿嘿。</p>
<p>官方用一句话就概括了它的用途：Dash是一个API文档浏览器（ API Documentation Browser），以及代码片段管理工具（Code Snippet Manager）。你没看错，它就只有这两个功能，但确实是程序员（至少对于我来说）最为关心的特性，自己之前也用过了不少类似的工具，可以毫不夸张地说，Dash是它们之中做的最好的一个！ 强悍的API文档浏览、搜索功能</p>
<p>想必这个功能是大家最常用的了吧，每天要反复查看、搜索那么多的API细节，没有一个好工具，单靠自己的双手如何应付得来？窗口不停的切来切去，很烦啊！Dash采用集成单一窗口的方式，很好的解决了这个问题 ## <a href="http://devdocs.io">DevDocs</a> <a href="https://travis-ci.org/Thibaut/devdocs"><img src="https://travis-ci.org/Thibaut/devdocs.svg?branch=master" alt="Build Status" /></a></p>
<p>DevDocs combines multiple API documentations in a fast, organized, and searchable interface.</p>
<ul>
<li>Created by <a href="http://thibaut.me">Thibaut Courouble</a></li>
</ul>
<p>Keep track of development news:</p>
<ul>
<li>Watch the repository on <a href="https://github.com/Thibaut/devdocs/subscription">GitHub</a></li>
<li>Follow <span class="citation">[@DevDocs]</span>(https://twitter.com/DevDocs) on Twitter</li>
<li>Join the <a href="https://groups.google.com/d/forum/devdocs">mailing list</a></li>
</ul>
<p>DevDocs is free and open source. If you like it, please consider supporting my work on <a href="https://gratipay.com/devdocs/">Gratipay</a>. Thanks!</p>
<p><strong>Table of Contents:</strong> <a href="#quick-start">Quick Start</a> · <a href="#vision">Vision</a> · <a href="#app">App</a> · <a href="#scraper">Scraper</a> · <a href="#available-commands">Commands</a> · <a href="#contributing">Contributing</a> · <a href="#copyright--license">License</a> · <a href="#questions">Questions?</a></p>
<h2 id="quick-start">Quick Start</h2>
<p>Unless you wish to contribute to the project, I recommend using the hosted version at <a href="http://devdocs.io">devdocs.io</a>. It’s up-to-date and works offline out-of-the-box.</p>
<p>DevDocs is made of two pieces: a Ruby scraper that generates the documentation and metadata, and a JavaScript app powered by a small Sinatra app.</p>
<p>DevDocs requires Ruby 2.3.0, libcurl, and a JavaScript runtime supported by <a href="https://github.com/rails/execjs#readme">ExecJS</a> (included in OS X and Windows; <a href="https://nodejs.org/en/">Node.js</a> on Linux). Once you have these installed, run the following commands:</p>
<pre><code>git clone https://github.com/Thibaut/devdocs.git &amp;&amp; cd devdocs
gem install bundler
bundle install
thor docs:download --default
rackup</code></pre>
<p>Finally, point your browser at <a href="http://localhost:9292">localhost:9292</a> (the first request will take a few seconds to compile the assets). You’re all set.</p>
<p>The <code>thor docs:download</code> command is used to download pre-generated documentations from DevDocs’s servers (e.g. <code>thor docs:download html css</code>). You can see the list of available documentations and versions by running <code>thor docs:list</code>. To update all downloaded documentations, run <code>thor docs:download --installed</code>.</p>
<p><strong>Note:</strong> there is currently no update mechanism other than <code>git pull origin master</code> to update the code and <code>thor docs:download --installed</code> to download the latest version of the docs. To stay informed about new releases, be sure to <a href="https://github.com/Thibaut/devdocs/subscription">watch</a> this repository.</p>
<p>Alternatively, DevDocs may be started as a Docker container:</p>
<pre><code># First, build the image
git clone https://github.com/Thibaut/devdocs.git &amp;&amp; cd devdocs
docker build -t thibaut/devdocs .

# Finally, start a DevDocs container (access http://localhost:9292)
docker run --name devdocs -d -p 9292:9292 thibaut/devdocs</code></pre>
<h2 id="vision">Vision</h2>
<p>DevDocs aims to make reading and searching reference documentation fast, easy and enjoyable.</p>
<p>The app’s main goals are to: keep load times as short as possible; improve the quality, speed, and order of search results; maximize the use of caching and other performance optimizations; maintain a clean and readable user interface; be fully functional offline; support full keyboard navigation; reduce “context switch” by using a consistent typography and design across all documentations; reduce clutter by focusing on a specific category of content (API/reference) and indexing only the minimum useful to most developers.</p>
<p><strong>Note:</strong> DevDocs is neither a programming guide nor a search engine. All our content is pulled from third-party sources and the project doesn’t intend to compete with full-text search engines. Its backbone is metadata; each piece of content is identified by a unique, “obvious” and short string. Tutorials, guides and other content that don’t meet this requirement are outside the scope of the project.</p>
<h2 id="app">App</h2>
<p>The web app is all client-side JavaScript, written in <a href="http://coffeescript.org">CoffeeScript</a>, and powered by a small <a href="http://www.sinatrarb.com">Sinatra</a>/<a href="https://github.com/rails/sprockets">Sprockets</a> application. It relies on files generated by the <a href="#scraper">scraper</a>.</p>
<p>Many of the code’s design decisions were driven by the fact that the app uses XHR to load content directly into the main frame. This includes stripping the original documents of most of their HTML markup (e.g. scripts and stylesheets) to avoid polluting the main frame, and prefixing all CSS class names with an underscore to prevent conflicts.</p>
<p>Another driving factor is performance and the fact that everything happens in the browser. <code>applicationCache</code> (which comes with its own set of constraints) and <code>localStorage</code> are used to speed up the boot time, while memory consumption is kept in check by allowing the user to pick his/her own set of documentations. The search algorithm is kept simple because it needs to be fast even searching through 100,000 strings.</p>
<p>DevDocs being a developer tool, the browser requirements are high:</p>
<ol style="list-style-type: decimal">
<li>On the desktop:</li>
</ol>
<ul>
<li>Recent version of Chrome, Firefox, or Opera</li>
<li>Safari 8+</li>
<li>IE / Edge 10+</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>On mobile:</li>
</ol>
<ul>
<li>iOS 8+</li>
<li>Android 4.1+</li>
<li>Windows Phone 8+</li>
</ul>
<p>This allows the code to take advantage of the latest DOM and HTML5 APIs and make developing DevDocs a lot more fun!</p>
<h2 id="scraper">Scraper</h2>
<p>The scraper is responsible for generating the documentation and index files (metadata) used by the <a href="#app">app</a>. It’s written in Ruby under the <code>Docs</code> module.</p>
<p>There are currently two kinds of scrapers: <code>UrlScraper</code> which downloads files via HTTP and <code>FileScraper</code> which reads them from the local filesystem. They both make copies of HTML documents, recursively following links that match a set of rules and applying all sorts of modifications along the way, in addition to building an index of the files and their metadata. Documents are parsed using <a href="http://nokogiri.org">Nokogiri</a>.</p>
<p>Modifications made to each document include:</p>
<ul>
<li>removing content such as the document structure (<code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>, etc.), comments, empty nodes, etc.</li>
<li>fixing links (e.g. to remove duplicates)</li>
<li>replacing all external (not scraped) URLs with their fully qualified counterpart</li>
<li>replacing all internal (scraped) URLs with their unqualified and relative counterpart</li>
<li>adding content, such as a title and link to the original document</li>
</ul>
<p>These modifications are applied via a set of filters using the <a href="https://github.com/jch/html-pipeline">HTML::Pipeline</a> library. Each scraper includes filters specific to itself, one of which is tasked with figuring out the pages’ metadata.</p>
<p>The end result is a set of normalized HTML partials and two JSON files (index + offline data). Because the index files are loaded separately by the <a href="#app">app</a> following the user’s preferences, the scraper also creates a JSON manifest file containing information about the documentations currently available on the system (such as their name, version, update date, etc.).</p>
<p>More information about scrapers and filters is available on the <a href="https://github.com/Thibaut/devdocs/wiki">wiki</a>.</p>
<h2 id="available-commands">Available Commands</h2>
<p>The command-line interface uses <a href="http://whatisthor.com">Thor</a>. To see all commands and options, run <code>thor list</code> from the project’s root.</p>
<p>``` # Server rackup # Start the server (ctrl+c to stop) rackup –help # List server options</p>
<h1 id="docs">Docs</h1>
<p>thor docs:list # List available documentations thor docs:download # Download one or more documentations thor docs:manifest # Create the manifest file used by the app thor docs:generate # Generate/scrape a documentation thor docs:page # Generate/scrape a documentation page thor docs:package # Package a documentation for use with docs:download thor docs:clean # Delete documentation packages</p>
<h1 id="console">Console</h1>
<p>thor console # Start a REPL thor console:docs # Start a REPL in the “Docs” module Note: tests can be run quickly from within the console using the “test” command. Run “help test” for usage instructions.</p>
<h1 id="tests">Tests</h1>
<p>thor test:all # Run all tests thor test:docs # Run “Docs” tests thor test:app # Run “App” tests</p>
<h1 id="assets">Assets</h1>
<p>thor assets:compile # Compile assets (not required in development mode) thor assets:clean # Clean old assets</p>

        </div>
        <script type="text/javascript">

                var favicon=new Favico({
                    bgColor : '#5CB85C',
                    textColor : '#ff0',
                });
                favicon.badge(921);
        </script>
        </div>

     
 <footer class="footer">
        <div class="fcontainer">
            <div class="site-title-wrapper">
                <h1 class="site-title-another "><a title="首页" href="../">首页</a><span>|</span></h1>
                <h1 class="site-title-another "><a title="咖啡" href="../">咖啡</a><span>|</span></h1>
                <h1 class="site-title-another "><a title="博客" href="http://smile921.github.io/ruhaskell/">博客</a></h1>
            </div>

            <p class="footer-copyright">© 2015 / smile921,&nbsp;&nbsp;ALL RIGHTS RESERVED.&nbsp;&nbsp;PUBLISHED WITH  <a href="http://jaspervdj.be/hakyll">Hakyll</a></p>
        </div>
</footer>
    </body>
</html>
